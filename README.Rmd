---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, echo = FALSE}
knitr::opts_chunk$set(
    message = F, 
    warning = F,
    collapse = TRUE,
    comment = "#>",
    fig.path = "README-"
)
```

```{r, echo=FALSE}
library(tidyquant)
library(sweep)
```


# sweep

[![Travis-CI Build Status](https://travis-ci.org/business-science/sweep.svg?branch=master)](https://travis-ci.org/business-science/sweep.svg?branch=master)
[![codecov](https://codecov.io/gh/business-science/sweep/branch/master/graph/badge.svg)](https://codecov.io/gh/business-science/sweep)
[![CRAN_Status_Badge](http://www.r-pkg.org/badges/version/sweep)](https://cran.r-project.org/package=sweep)
![](http://cranlogs.r-pkg.org/badges/sweep?color=brightgreen)
![](http://cranlogs.r-pkg.org/badges/grand-total/sweep?color=brightgreen)

> Simplified and extensible time series coercion tools

The `sweep` package combines a collection of coercion tools for time series analysis in the "tidyverse". 

## Benefits

* __Simplifies the coercion process between time-based tibbles (`tbl`) and the major time series data types `xts`, `zoo`, `zooreg`, and `ts`__
* __Maximizes time-based data retention during coercion to regularized time series__


## Tools

The package contains the following elements:

1. __coercion functions__: `sw_tbl`, `sw_ts`, `sw_xts`, `sw_zoo`, and `sw_zooreg` coerce time-based tibbles `tbl` to and from each of the main time-series data types `xts`, `zoo`, `zooreg`, `ts`, maintaining the time-based index.

2. __index function__: `sw_index` returns the time series index of time series objects, models, and `forecast` objects. The argument `.sweep_idx` can be used to return a special sweep "index" attribute for regularized `ts` objects that returns a non-regularized date / date-time index if present.



## Extensible time series coercion

The coercion functions `sw_tbl`, `sw_xts`, `sw_zoo`, `sw_zooreg`, and `sw_ts` enable maximize data retention and simplify the coercion process. Further working with regularized time series (`ts`) class has been a particular pain until now. 

```{r}
# Time based tibble
data_tbl <- tibble(
    date = seq.Date(from = as.Date("2010-01-01"), by = 1, length.out = 5),
    x    = seq(100, 120, by = 5)
)
data_tbl

# Coercion from time-based tibble to ts using sw_ts()
data_ts <- sw_ts(data_tbl, start = c(2010,1), freq = 365)

# Regularized numeric index
sw_index(data_ts) %>% str()
sw_tbl(data_ts)

# Non-regularized date index 
sw_index(data_ts, .sweep_idx = TRUE) %>% str()
sw_tbl(data_ts, .sweep_idx = TRUE)
```


## Installation

Here's how to install to get started.

_Development version with latest features_:

``` {r, eval = FALSE}
# install.packages("devtools")
devtools::install_github("business-science/sweep")
```

<!-- _CRAN approved version_: -->

<!-- ```{r, eval = FALSE} -->
<!-- install.packages("sweep") -->
<!-- ``` -->



## Further Information

The `sweep` package includes a vignette to help users get up to speed quickly:

* SW00 - Time Series Coercion Using `sweep`

<!-- See the [`tidyquant` vignettes](https://cran.r-project.org/package=tidyquant) for further details on the package. -->
