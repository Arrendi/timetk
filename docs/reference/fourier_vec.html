<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Fourier Series — fourier_vec • timetk</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Fourier Series — fourier_vec" />
<meta property="og:description" content="fourier_vec() calculates a Fourier Series from a date or date-time index." />
<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-76139189-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-76139189-2');
</script>


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">timetk</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.3.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/TK03_Forecasting_Using_Time_Series_Signature.html">Time Series Machine Learning</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Plotting</li>
    <li class="divider"></li>
    <li class="dropdown-header">Time Series Helpers</li>
    <li>
      <a href="../articles/TK00_Time_Series_Coercion.html">Time series conversion</a>
    </li>
    <li>
      <a href="../articles/TK01_Working_With_Time_Series_Index.html">Time series index</a>
    </li>
    <li>
      <a href="../articles/TK02_Making_A_Future_Time_Series_Index.html">Creating future time series indices</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Function Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/business-science/timetk">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Fourier Series</h1>
    <small class="dont-index">Source: <a href='https://github.com/business-science/timetk/blob/master/R/vec-fourier.R'><code>R/vec-fourier.R</code></a></small>
    <div class="hidden name"><code>fourier_vec.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>fourier_vec()</code> calculates a Fourier Series from a date or date-time index.</p>
    </div>

    <pre class="usage"><span class='fu'>fourier_vec</span>(<span class='no'>x</span>, <span class='no'>period</span>, <span class='kw'>K</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"sin"</span>, <span class='st'>"cos"</span>))</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A date, POSIXct, yearmon, yearqtr, or numeric sequence (scaled to difference 1 for <code>period</code> alignment)
to be converted to a fourier series.</p></td>
    </tr>
    <tr>
      <th>period</th>
      <td><p>The number of observations that complete one cycle.</p></td>
    </tr>
    <tr>
      <th>K</th>
      <td><p>The fourier term order.</p></td>
    </tr>
    <tr>
      <th>type</th>
      <td><p>Either "sin" or "cos" for the appropriate type of fourier term.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A numeric vector</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><strong>Benefits:</strong></p>
<p>This function is <code>NA</code> padded by default so it works well with <code><a href='https://dplyr.tidyverse.org/reference/mutate.html'>dplyr::mutate()</a></code> operations.</p>
<p><strong>Fourier Series Calculation</strong></p>
<p>The internal calculation is relatively straightforward:
<code>fourier(x) = sin(2 * pi * term * x) or cos(2 * pi * term * x)</code>,
where <code>term = K / period</code>.</p>
<p><strong>Period Alignment, period</strong></p>
<p>The <code>period</code> alignment with the sequence is an essential part of fourier series calculation.</p><ul>
<li><p><strong>Date, Date-Time, and Zoo (yearqtr and yearmon) Sequences</strong> - Are scaled to unit difference of 1. This happens internally,
so there's nothing you need to do or to worry about. Future time series will be scaled appropriately.</p></li>
<li><p><strong>Numeric Sequences</strong> - Are not scaled, which means you should transform them to a unit difference of 1 so that
your x is a sequence that increases by 1. Otherwise your period and fourier order will be incorrectly calculated.
The solution is to just take your sequence and divide by the median difference between values.</p></li>
</ul>

<p><strong>Fourier Order, K</strong></p>
<p>The fourier order is a parameter that increases the frequency. <code>K = 2</code> doubles the frequency.
It's common in time series analysis to add multiple fourier orders (e.g. 1 through 5) to account for
seasonalities that occur faster than the primary seasonality.</p>
<p><strong>Type (Sin/Cos)</strong></p>
<p>The type of the fourier series can be either <code>sin</code> or <code>cos</code>. It's common in time series analysis
to add both sin and cos series.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Fourier Modeling Functions:</p><ul>
<li><p><code><a href='step_fourier.html'>step_fourier()</a></code> - Recipe for <code>tidymodels</code> workflow</p></li>
<li><p><code>tk_augment_fourier_series()</code> - Adds many fourier series to a <code>data.frame</code> (<code>tibble</code>)</p></li>
</ul>

<p>Additional Vector Functions:</p><ul>
<li><p>Fourier Series: <code>fourier_vec()</code></p></li>
<li><p>Box Cox Transformation: <code><a href='box_cox_vec.html'>box_cox_vec()</a></code></p></li>
<li><p>Lag Transformation: <code><a href='lag_vec.html'>lag_vec()</a></code></p></li>
<li><p>Differencing Transformation: <code><a href='diff_vec.html'>diff_vec()</a></code></p></li>
<li><p>Rolling Window Transformation: <code><a href='roll_apply_vec.html'>roll_apply_vec()</a></code></p></li>
<li><p>Loess Smoothing Transformation: <code><a href='smooth_vec.html'>smooth_vec()</a></code></p></li>
</ul>
</div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>tidyverse</span>)
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>timetk</span>)

<span class='no'>date_sequence</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='tk_make_date_sequence.html'>tk_make_date_sequence</a></span>(<span class='st'>"2016-01-01"</span>, <span class='st'>"2016-01-31"</span>, <span class='kw'>by</span> <span class='kw'>=</span> <span class='st'>"hour"</span>)

<span class='co'># --- VECTOR ---</span>

<span class='fu'>fourier_vec</span>(<span class='no'>date_sequence</span>, <span class='kw'>period</span> <span class='kw'>=</span> <span class='fl'>7</span> * <span class='fl'>24</span>, <span class='kw'>K</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"sin"</span>)</div><div class='output co'>#&gt;   [1]  7.818315e-01  8.045978e-01  8.262388e-01  8.467242e-01  8.660254e-01
#&gt;   [6]  8.841154e-01  9.009689e-01  9.165623e-01  9.308737e-01  9.438833e-01
#&gt;  [11]  9.555728e-01  9.659258e-01  9.749279e-01  9.825665e-01  9.888308e-01
#&gt;  [16]  9.937122e-01  9.972038e-01  9.993007e-01  1.000000e+00  9.993007e-01
#&gt;  [21]  9.972038e-01  9.937122e-01  9.888308e-01  9.825665e-01  9.749279e-01
#&gt;  [26]  9.659258e-01  9.555728e-01  9.438833e-01  9.308737e-01  9.165623e-01
#&gt;  [31]  9.009689e-01  8.841154e-01  8.660254e-01  8.467242e-01  8.262388e-01
#&gt;  [36]  8.045978e-01  7.818315e-01  7.579717e-01  7.330519e-01  7.071068e-01
#&gt;  [41]  6.801727e-01  6.522874e-01  6.234898e-01  5.938202e-01  5.633201e-01
#&gt;  [46]  5.320321e-01  5.000000e-01  4.672686e-01  4.338837e-01  3.998920e-01
#&gt;  [51]  3.653410e-01  3.302791e-01  2.947552e-01  2.588190e-01  2.225209e-01
#&gt;  [56]  1.859116e-01  1.490423e-01  1.119645e-01  7.473009e-02  3.739119e-02
#&gt;  [61]  2.303914e-12 -3.739119e-02 -7.473009e-02 -1.119645e-01 -1.490423e-01
#&gt;  [66] -1.859116e-01 -2.225209e-01 -2.588190e-01 -2.947552e-01 -3.302791e-01
#&gt;  [71] -3.653410e-01 -3.998920e-01 -4.338837e-01 -4.672686e-01 -5.000000e-01
#&gt;  [76] -5.320321e-01 -5.633201e-01 -5.938202e-01 -6.234898e-01 -6.522874e-01
#&gt;  [81] -6.801727e-01 -7.071068e-01 -7.330519e-01 -7.579717e-01 -7.818315e-01
#&gt;  [86] -8.045978e-01 -8.262388e-01 -8.467242e-01 -8.660254e-01 -8.841154e-01
#&gt;  [91] -9.009689e-01 -9.165623e-01 -9.308737e-01 -9.438833e-01 -9.555728e-01
#&gt;  [96] -9.659258e-01 -9.749279e-01 -9.825665e-01 -9.888308e-01 -9.937122e-01
#&gt; [101] -9.972038e-01 -9.993007e-01 -1.000000e+00 -9.993007e-01 -9.972038e-01
#&gt; [106] -9.937122e-01 -9.888308e-01 -9.825665e-01 -9.749279e-01 -9.659258e-01
#&gt; [111] -9.555728e-01 -9.438833e-01 -9.308737e-01 -9.165623e-01 -9.009689e-01
#&gt; [116] -8.841154e-01 -8.660254e-01 -8.467242e-01 -8.262388e-01 -8.045978e-01
#&gt; [121] -7.818315e-01 -7.579717e-01 -7.330519e-01 -7.071068e-01 -6.801727e-01
#&gt; [126] -6.522874e-01 -6.234898e-01 -5.938202e-01 -5.633201e-01 -5.320321e-01
#&gt; [131] -5.000000e-01 -4.672686e-01 -4.338837e-01 -3.998920e-01 -3.653410e-01
#&gt; [136] -3.302791e-01 -2.947552e-01 -2.588190e-01 -2.225209e-01 -1.859116e-01
#&gt; [141] -1.490423e-01 -1.119645e-01 -7.473009e-02 -3.739119e-02 -1.973634e-12
#&gt; [146]  3.739119e-02  7.473009e-02  1.119645e-01  1.490423e-01  1.859116e-01
#&gt; [151]  2.225209e-01  2.588190e-01  2.947552e-01  3.302791e-01  3.653410e-01
#&gt; [156]  3.998920e-01  4.338837e-01  4.672686e-01  5.000000e-01  5.320321e-01
#&gt; [161]  5.633201e-01  5.938202e-01  6.234898e-01  6.522874e-01  6.801727e-01
#&gt; [166]  7.071068e-01  7.330519e-01  7.579717e-01  7.818315e-01  8.045978e-01
#&gt; [171]  8.262388e-01  8.467242e-01  8.660254e-01  8.841154e-01  9.009689e-01
#&gt; [176]  9.165623e-01  9.308737e-01  9.438833e-01  9.555728e-01  9.659258e-01
#&gt; [181]  9.749279e-01  9.825665e-01  9.888308e-01  9.937122e-01  9.972038e-01
#&gt; [186]  9.993007e-01  1.000000e+00  9.993007e-01  9.972038e-01  9.937122e-01
#&gt; [191]  9.888308e-01  9.825665e-01  9.749279e-01  9.659258e-01  9.555728e-01
#&gt; [196]  9.438833e-01  9.308737e-01  9.165623e-01  9.009689e-01  8.841154e-01
#&gt; [201]  8.660254e-01  8.467242e-01  8.262388e-01  8.045978e-01  7.818315e-01
#&gt; [206]  7.579717e-01  7.330519e-01  7.071068e-01  6.801727e-01  6.522874e-01
#&gt; [211]  6.234898e-01  5.938202e-01  5.633201e-01  5.320321e-01  5.000000e-01
#&gt; [216]  4.672686e-01  4.338837e-01  3.998920e-01  3.653410e-01  3.302791e-01
#&gt; [221]  2.947552e-01  2.588190e-01  2.225209e-01  1.859116e-01  1.490423e-01
#&gt; [226]  1.119645e-01  7.473009e-02  3.739119e-02  1.643354e-12 -3.739119e-02
#&gt; [231] -7.473009e-02 -1.119645e-01 -1.490423e-01 -1.859116e-01 -2.225209e-01
#&gt; [236] -2.588190e-01 -2.947552e-01 -3.302791e-01 -3.653410e-01 -3.998920e-01
#&gt; [241] -4.338837e-01 -4.672686e-01 -5.000000e-01 -5.320321e-01 -5.633201e-01
#&gt; [246] -5.938202e-01 -6.234898e-01 -6.522874e-01 -6.801727e-01 -7.071068e-01
#&gt; [251] -7.330519e-01 -7.579717e-01 -7.818315e-01 -8.045978e-01 -8.262388e-01
#&gt; [256] -8.467242e-01 -8.660254e-01 -8.841154e-01 -9.009689e-01 -9.165623e-01
#&gt; [261] -9.308737e-01 -9.438833e-01 -9.555728e-01 -9.659258e-01 -9.749279e-01
#&gt; [266] -9.825665e-01 -9.888308e-01 -9.937122e-01 -9.972038e-01 -9.993007e-01
#&gt; [271] -1.000000e+00 -9.993007e-01 -9.972038e-01 -9.937122e-01 -9.888308e-01
#&gt; [276] -9.825665e-01 -9.749279e-01 -9.659258e-01 -9.555728e-01 -9.438833e-01
#&gt; [281] -9.308737e-01 -9.165623e-01 -9.009689e-01 -8.841154e-01 -8.660254e-01
#&gt; [286] -8.467242e-01 -8.262388e-01 -8.045978e-01 -7.818315e-01 -7.579717e-01
#&gt; [291] -7.330519e-01 -7.071068e-01 -6.801727e-01 -6.522874e-01 -6.234898e-01
#&gt; [296] -5.938202e-01 -5.633201e-01 -5.320321e-01 -5.000000e-01 -4.672686e-01
#&gt; [301] -4.338837e-01 -3.998920e-01 -3.653410e-01 -3.302791e-01 -2.947552e-01
#&gt; [306] -2.588190e-01 -2.225209e-01 -1.859116e-01 -1.490423e-01 -1.119645e-01
#&gt; [311] -7.473009e-02 -3.739119e-02 -3.132063e-12  3.739119e-02  7.473009e-02
#&gt; [316]  1.119645e-01  1.490423e-01  1.859116e-01  2.225209e-01  2.588190e-01
#&gt; [321]  2.947552e-01  3.302791e-01  3.653410e-01  3.998920e-01  4.338837e-01
#&gt; [326]  4.672686e-01  5.000000e-01  5.320321e-01  5.633201e-01  5.938202e-01
#&gt; [331]  6.234898e-01  6.522874e-01  6.801727e-01  7.071068e-01  7.330519e-01
#&gt; [336]  7.579717e-01  7.818315e-01  8.045978e-01  8.262388e-01  8.467242e-01
#&gt; [341]  8.660254e-01  8.841154e-01  9.009689e-01  9.165623e-01  9.308737e-01
#&gt; [346]  9.438833e-01  9.555728e-01  9.659258e-01  9.749279e-01  9.825665e-01
#&gt; [351]  9.888308e-01  9.937122e-01  9.972038e-01  9.993007e-01  1.000000e+00
#&gt; [356]  9.993007e-01  9.972038e-01  9.937122e-01  9.888308e-01  9.825665e-01
#&gt; [361]  9.749279e-01  9.659258e-01  9.555728e-01  9.438833e-01  9.308737e-01
#&gt; [366]  9.165623e-01  9.009689e-01  8.841154e-01  8.660254e-01  8.467242e-01
#&gt; [371]  8.262388e-01  8.045978e-01  7.818315e-01  7.579717e-01  7.330519e-01
#&gt; [376]  7.071068e-01  6.801727e-01  6.522874e-01  6.234898e-01  5.938202e-01
#&gt; [381]  5.633201e-01  5.320321e-01  5.000000e-01  4.672686e-01  4.338837e-01
#&gt; [386]  3.998920e-01  3.653410e-01  3.302791e-01  2.947552e-01  2.588190e-01
#&gt; [391]  2.225209e-01  1.859116e-01  1.490423e-01  1.119645e-01  7.473009e-02
#&gt; [396]  3.739119e-02  2.801783e-12 -3.739119e-02 -7.473009e-02 -1.119645e-01
#&gt; [401] -1.490423e-01 -1.859116e-01 -2.225209e-01 -2.588190e-01 -2.947552e-01
#&gt; [406] -3.302791e-01 -3.653410e-01 -3.998920e-01 -4.338837e-01 -4.672686e-01
#&gt; [411] -5.000000e-01 -5.320321e-01 -5.633201e-01 -5.938202e-01 -6.234898e-01
#&gt; [416] -6.522874e-01 -6.801727e-01 -7.071068e-01 -7.330519e-01 -7.579717e-01
#&gt; [421] -7.818315e-01 -8.045978e-01 -8.262388e-01 -8.467242e-01 -8.660254e-01
#&gt; [426] -8.841154e-01 -9.009689e-01 -9.165623e-01 -9.308737e-01 -9.438833e-01
#&gt; [431] -9.555728e-01 -9.659258e-01 -9.749279e-01 -9.825665e-01 -9.888308e-01
#&gt; [436] -9.937122e-01 -9.972038e-01 -9.993007e-01 -1.000000e+00 -9.993007e-01
#&gt; [441] -9.972038e-01 -9.937122e-01 -9.888308e-01 -9.825665e-01 -9.749279e-01
#&gt; [446] -9.659258e-01 -9.555728e-01 -9.438833e-01 -9.308737e-01 -9.165623e-01
#&gt; [451] -9.009689e-01 -8.841154e-01 -8.660254e-01 -8.467242e-01 -8.262388e-01
#&gt; [456] -8.045978e-01 -7.818315e-01 -7.579717e-01 -7.330519e-01 -7.071068e-01
#&gt; [461] -6.801727e-01 -6.522874e-01 -6.234898e-01 -5.938202e-01 -5.633201e-01
#&gt; [466] -5.320321e-01 -5.000000e-01 -4.672686e-01 -4.338837e-01 -3.998920e-01
#&gt; [471] -3.653410e-01 -3.302791e-01 -2.947552e-01 -2.588190e-01 -2.225209e-01
#&gt; [476] -1.859116e-01 -1.490423e-01 -1.119645e-01 -7.473009e-02 -3.739119e-02
#&gt; [481] -2.471504e-12  3.739119e-02  7.473009e-02  1.119645e-01  1.490423e-01
#&gt; [486]  1.859116e-01  2.225209e-01  2.588190e-01  2.947552e-01  3.302791e-01
#&gt; [491]  3.653410e-01  3.998920e-01  4.338837e-01  4.672686e-01  5.000000e-01
#&gt; [496]  5.320321e-01  5.633201e-01  5.938202e-01  6.234898e-01  6.522874e-01
#&gt; [501]  6.801727e-01  7.071068e-01  7.330519e-01  7.579717e-01  7.818315e-01
#&gt; [506]  8.045978e-01  8.262388e-01  8.467242e-01  8.660254e-01  8.841154e-01
#&gt; [511]  9.009689e-01  9.165623e-01  9.308737e-01  9.438833e-01  9.555728e-01
#&gt; [516]  9.659258e-01  9.749279e-01  9.825665e-01  9.888308e-01  9.937122e-01
#&gt; [521]  9.972038e-01  9.993007e-01  1.000000e+00  9.993007e-01  9.972038e-01
#&gt; [526]  9.937122e-01  9.888308e-01  9.825665e-01  9.749279e-01  9.659258e-01
#&gt; [531]  9.555728e-01  9.438833e-01  9.308737e-01  9.165623e-01  9.009689e-01
#&gt; [536]  8.841154e-01  8.660254e-01  8.467242e-01  8.262388e-01  8.045978e-01
#&gt; [541]  7.818315e-01  7.579717e-01  7.330519e-01  7.071068e-01  6.801727e-01
#&gt; [546]  6.522874e-01  6.234898e-01  5.938202e-01  5.633201e-01  5.320321e-01
#&gt; [551]  5.000000e-01  4.672686e-01  4.338837e-01  3.998920e-01  3.653410e-01
#&gt; [556]  3.302791e-01  2.947552e-01  2.588190e-01  2.225209e-01  1.859116e-01
#&gt; [561]  1.490423e-01  1.119645e-01  7.473009e-02  3.739119e-02  2.141224e-12
#&gt; [566] -3.739119e-02 -7.473009e-02 -1.119645e-01 -1.490423e-01 -1.859116e-01
#&gt; [571] -2.225209e-01 -2.588190e-01 -2.947552e-01 -3.302791e-01 -3.653410e-01
#&gt; [576] -3.998920e-01 -4.338837e-01 -4.672686e-01 -5.000000e-01 -5.320321e-01
#&gt; [581] -5.633201e-01 -5.938202e-01 -6.234898e-01 -6.522874e-01 -6.801727e-01
#&gt; [586] -7.071068e-01 -7.330519e-01 -7.579717e-01 -7.818315e-01 -8.045978e-01
#&gt; [591] -8.262388e-01 -8.467242e-01 -8.660254e-01 -8.841154e-01 -9.009689e-01
#&gt; [596] -9.165623e-01 -9.308737e-01 -9.438833e-01 -9.555728e-01 -9.659258e-01
#&gt; [601] -9.749279e-01 -9.825665e-01 -9.888308e-01 -9.937122e-01 -9.972038e-01
#&gt; [606] -9.993007e-01 -1.000000e+00 -9.993007e-01 -9.972038e-01 -9.937122e-01
#&gt; [611] -9.888308e-01 -9.825665e-01 -9.749279e-01 -9.659258e-01 -9.555728e-01
#&gt; [616] -9.438833e-01 -9.308737e-01 -9.165623e-01 -9.009689e-01 -8.841154e-01
#&gt; [621] -8.660254e-01 -8.467242e-01 -8.262388e-01 -8.045978e-01 -7.818315e-01
#&gt; [626] -7.579717e-01 -7.330519e-01 -7.071068e-01 -6.801727e-01 -6.522874e-01
#&gt; [631] -6.234898e-01 -5.938202e-01 -5.633201e-01 -5.320321e-01 -5.000000e-01
#&gt; [636] -4.672686e-01 -4.338837e-01 -3.998920e-01 -3.653410e-01 -3.302791e-01
#&gt; [641] -2.947552e-01 -2.588190e-01 -2.225209e-01 -1.859116e-01 -1.490423e-01
#&gt; [646] -1.119645e-01 -7.473009e-02 -3.739119e-02 -1.810944e-12  3.739119e-02
#&gt; [651]  7.473009e-02  1.119645e-01  1.490423e-01  1.859116e-01  2.225209e-01
#&gt; [656]  2.588190e-01  2.947552e-01  3.302791e-01  3.653410e-01  3.998920e-01
#&gt; [661]  4.338837e-01  4.672686e-01  5.000000e-01  5.320321e-01  5.633201e-01
#&gt; [666]  5.938202e-01  6.234898e-01  6.522874e-01  6.801727e-01  7.071068e-01
#&gt; [671]  7.330519e-01  7.579717e-01  7.818315e-01  8.045978e-01  8.262388e-01
#&gt; [676]  8.467242e-01  8.660254e-01  8.841154e-01  9.009689e-01  9.165623e-01
#&gt; [681]  9.308737e-01  9.438833e-01  9.555728e-01  9.659258e-01  9.749279e-01
#&gt; [686]  9.825665e-01  9.888308e-01  9.937122e-01  9.972038e-01  9.993007e-01
#&gt; [691]  1.000000e+00  9.993007e-01  9.972038e-01  9.937122e-01  9.888308e-01
#&gt; [696]  9.825665e-01  9.749279e-01  9.659258e-01  9.555728e-01  9.438833e-01
#&gt; [701]  9.308737e-01  9.165623e-01  9.009689e-01  8.841154e-01  8.660254e-01
#&gt; [706]  8.467242e-01  8.262388e-01  8.045978e-01  7.818315e-01  7.579717e-01
#&gt; [711]  7.330519e-01  7.071068e-01  6.801727e-01  6.522874e-01  6.234898e-01
#&gt; [716]  5.938202e-01  5.633201e-01  5.320321e-01  5.000000e-01  4.672686e-01
#&gt; [721]  4.338837e-01</div><div class='input'>
<span class='co'># --- MUTATE ---</span>

<span class='fu'>tibble</span>(<span class='kw'>date</span> <span class='kw'>=</span> <span class='no'>date_sequence</span>) <span class='kw'>%&gt;%</span>
    <span class='co'># Add cosine series that oscilates at a 7-day period</span>
    <span class='fu'>mutate</span>(
        <span class='kw'>C1_7</span> <span class='kw'>=</span> <span class='fu'>fourier_vec</span>(<span class='no'>date</span>, <span class='kw'>period</span> <span class='kw'>=</span> <span class='fl'>7</span>*<span class='fl'>24</span>, <span class='kw'>K</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"cos"</span>),
        <span class='kw'>C2_7</span> <span class='kw'>=</span> <span class='fu'>fourier_vec</span>(<span class='no'>date</span>, <span class='kw'>period</span> <span class='kw'>=</span> <span class='fl'>7</span>*<span class='fl'>24</span>, <span class='kw'>K</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"cos"</span>)
    ) <span class='kw'>%&gt;%</span>
    <span class='co'># Visualize</span>
    <span class='fu'>pivot_longer</span>(<span class='kw'>cols</span> <span class='kw'>=</span> <span class='fu'>contains</span>(<span class='st'>"_"</span>), <span class='kw'>names_to</span> <span class='kw'>=</span> <span class='st'>"name"</span>, <span class='kw'>values_to</span> <span class='kw'>=</span> <span class='st'>"value"</span>) <span class='kw'>%&gt;%</span>
    <span class='fu'><a href='plot_time_series.html'>plot_time_series</a></span>(
        <span class='no'>date</span>, <span class='no'>value</span>, <span class='kw'>.color_var</span> <span class='kw'>=</span> <span class='no'>name</span>,
        <span class='kw'>.smooth</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
        <span class='kw'>.interactive</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
        <span class='kw'>.title</span> <span class='kw'>=</span> <span class='st'>"7-Day Fourier Terms"</span>
    )</div><div class='img'><img src='fourier_vec-1.png' alt='' width='700' height='433' /></div><div class='input'>


</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Matt Dancho, Davis Vaughan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


